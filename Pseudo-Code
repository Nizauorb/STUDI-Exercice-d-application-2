Livre = { titre : Texte, auteur : Texte, isbn : Texte, categorie : Texte, disponible : Booléen}
Livres = []

#Ajouter un livre
    FONCTION ajouter_livre(livre)
        AJOUTER livre à Livres
    FIN FONCTION 

#Modifier les informations d'un livre
    FONCTION modifier_livre(isbn, nouvelles_infos)
        POUR CHAQUE livre DANS Livres
            SI livre.isbn == isbn ALORS
                MODIFIER livre avec nouvelles_infos
                RETOURNER VRAI
            FIN SI
        FIN POUR
        RETOURNER FAUX
    FIN FONCTION


#Supprimer un livre
    FONCTION supprimer_livre(isbn)
        POUR CHAQUE livre DANS Livres
            SI livre.isbn == isbn ALORS
                SUPPRIMER livre DE Livres
                RETOURNER VRAI
            FIN SI
        FIN POUR
        RETOURNER FAUX
    FIN FONCTION



#Rechercher un livre par titre, auteur ou ISBN
    FONCTION rechercher_livre(critere, valeur)
        resultats <- LISTE VIDE
        POUR CHAQUE livre DANS Livres
            SI critere DANS livre ET valeur DANS critere ALORS
                AJOUTER livre à resultats
            FIN SI
        FIN POUR
        RETOURNER resultats
    FIN FONCTION

liste_usagers = []

#Valider les données d'un usager
    FONCTION valider_usager(usager)
        SI usager.nom EST VIDE ALORS
            RETOURNER FAUX, "Le nom est obligatoire."
        FIN SI

        identifiant <- usager["identifiant"]
        SI identifiant EST VIDE ALORS
            RETOURNER FAUX, "L'identifiant est obligatoire."
        FIN SI
        POUR CHAQUE u dans liste_usagers
            SI u["identifiant"] == identifiant ALORS
                RETOURNER FAUX, "L'identifiant est deja utilisé."
            FIN SI
        FIN POUR
        RETOURNER VRAI, "Usager Valide."
    FIN FONCTION

#Ajouter un usager
    FONCTION ajouter_usager(usager)
        (est_valide, message) <- valider_usager(usager, liste_usagers)
        SI est_valide ALORS
            AJOUTER usager à liste_usagers
            RETOURNER VRAI, "Usager ajouté."
        SINON
            RETOURNER FAUX, message
        FIN SI
    FIN FONCTION

#Modifier les informations d'un usager
    FONCTION modifier_usager(identifiant, nouvelles_infos)
        POUR CHAQUE usager DANS liste_usagers
            SI usager.identifiant == identifiant ALORS
                MODIFIER usager avec nouvelles_infos
                RETOURNER VRAI, "Usager modifié."
            FIN SI
        FIN POUR
        RETOURNER FAUX, "Usager non trouvé."
    FIN FONCTION


#Emprunter un livre
    FONCTION emprunter_livre(catalogue, usager, isbn, date_emprunt)
        POUR CHAQUE livre DANS catalogue
            SI livre.isbn == isbn ALORS
                SI livre.disponible EST VRAI ALORS
                    MODIFIER livre avec {disponible : FAUX}
                    RETOURNER VRAI, "Livre emprunté."
                SINON
                    RETOURNER FAUX, "Le livre n'est pas disponible."
                FIN SI
            FIN SI
        FIN POUR
        RETOURNER FAUX, "Livre non trouvé."
    FIN FONCTION

#Retourner un livre
    FONCTION retourner_livre(catalogue, usager, isbn, date_retour)
        POUR CHAQUE livre DANS catalogue
            SI livre.isbn == isbn ALORS
                SI livre.disponible EST FAUX ALORS
                    MODIFIER livre avec {disponible : VRAI}
                    RETOURNER VRAI, "Livre retourné."
                SINON
                    RETOURNER FAUX, "Le livre est déjà disponible."
                FIN SI
            FIN SI
        FIN POUR
        RETOURNER FAUX, "Livre non trouvé."
    FIN FONCTION

#Verifier les retards
    FONCTION verifier_retards(usager, date_actuelle)
        retards <- LISTE VIDE
        POUR CHAQUE emprunt DANS usager.emprunts
            SI emprunt.date_retour < date_actuelle ALORS
                AJOUTER {livre : emprunt.livre, date_retour : emprunt.date_retour} à retards
            FIN SI
        FIN POUR
        RETOURNER retards
    FIN FONCTION


#Fonction qui retourne la liste des livres les plus empruntés
FONCTION livres_les_plus_empruntes(liste_emprunts)
    livres_empruntes <- DICTIONNAIRE VIDE
    POUR CHAQUE emprunt DANS liste_emprunts
        livre <- emprunt.livre
        SI livre DANS livres_empruntes ALORS
            MODIFIER livres_empruntes[livre] avec {nb_emprunts : livres_empruntes[livre].nb_emprunts + 1}
        SINON
            AJOUTER {livre : livre, nb_emprunts : 1} à livres_empruntes
        FIN SI
    FIN POUR
    TRIER livres_empruntes par nb_emprunts EN ORDRE DÉCRIT
    RETOURNER LISTE DES CLÉS DE livres_empruntes
FIN FONCTION

#Fonction qui retourne la liste des catégories populaires
FONCTION categories_populaires(liste_emprunts)
    categories_empruntes <- DICTIONNAIRE VIDE
    POUR CHAQUE emprunt DANS liste_emprunts
        categorie <- emprunt.livre.categorie
        SI categorie DANS categories_empruntes ALORS
            MODIFIER categories_empruntes[categorie] avec {nb_emprunts : categories_empruntes[categorie].nb_emprunts + 1}
        SINON
            AJOUTER {categorie : categorie, nb_emprunts : 1} à categories_empruntes
        FIN SI
    FIN POUR
    TRIER categories_empruntes par nb_emprunts EN ORDRE DÉCRIT
    RETOURNER LISTE DES CLÉS DE categories_empruntes
FIN FONCTION

#Fonction qui génère un rapport mensuel
FONCTION generer_rapport(liste_emprunts, mois)
    rapport <- "Rapport mensuel du mois " + mois
    livres_empruntes <- livres_les_plus_empruntes(liste_emprunts)
    rapport <- rapport + "Les livres les plus empruntés sont : " + LISTE DES ÉLÉMENTS DE livres_empruntes SEPARÉS PAR " "
    categories_empruntes <- categories_populaires(liste_emprunts)
    rapport <- rapport + "Les catégories les plus populaires sont : " + LISTE DES ÉLÉMENTS DE categories_empruntes SEPARÉS PAR " "
    RETOURNER rapport
FIN FONCTION




#Exercice application de reduction en fonction de l'ages d'un utilisateur

#Tableau des valeurs 
Moins de 13 ans 100%
13 - 17 50%
18 - 25 30%
26 - 40 20%
41 - 60 10%
Plus de 60 15% 


TABLEAU des_reductions = {
    { 0, 12, 1.0 },    # 100% de réduction (gratuit) pour les 0-12 ans
    { 13, 17, 0.5 },    # 50% de réduction pour les 13-17 ans
    { 18, 25, 0.3 },    # 30% de réduction pour les 18-25 ans
    { 26, 40, 0.2 },    # 20% de réduction pour les 26-40 ans
    { 41, 60, 0.1 },    # 10% de réduction pour les 41-60 ans
    { 61, 150, 0.15 }   # 15% de réduction pour les plus de 60 ans
}

FONCTION reduction_age(age)
    POUR CHAQUE reduction DANS des_reductions
        SI age >= reduction[1] ET age <= reduction[2] ALORS
            RETOURNER reduction[3]
        FIN SI
    FIN POUR
    RETOURNER 0
FIN FONCTION


#Algo Pseudo Code Table de Multiplication

Début
    Déclarer nombre comme ENTIER
    
    ECRIRE "Entrée Utilisateur : " 
    LIRE nombre
    POUR i allant de 1 à 10
        ECRIRE nombre, "x", i, " = ", nombre * i
    FIN POUR
FIN



#Algo calculer un devis
DEBUT
    DECLARER article comme CHAINE
    DECLARER prix comme REEL
    DECLARER reduction comme ENTIER
    DECLARER quantité comme ENTIER
    DECLARER prix_total comme REEL

    DECLARER listeArticle comme LISTE

    #L'utilisateur veut continuer
    DECLARER continuer_achat comme BOOLEEN
    continuer_achat <- VRAI
 
    #Fonction pour que l'utilisateur saisise un article
    FONCTION saisir_article()
        ECRIRE "Nom de l'article ? (-1 pour terminer)
        LIRE article
        ECRIRE "Quel est le prix de l'article ?
        LIRE prix
        ECRIRE "Quelle est la quantité ? 
        LIRE quantité
        ECRIRE 'Quel est la remise en pourcentage (0-100) ? 
        LIRE reduction
    FIN FONCTION
    
    #Si l'utilisateur ecrit "-1" terminer le programme
    SI article == "-1" ALORS
        continuer_achat <- FAUX
    FIN SI
    
    #Tant que l'utilisateur veut continuer
    TANT QUE continuer_achat EST VRAI FAIRE    
        saisir_article()
        #Calculer le prix total avec réduction
        prix_total <- prix * quantité * (1 - reduction / 100)
        ECRIRE "Prix total : ", prix_total

        #Ajouter l'article à la liste
        listeArticle.AJOUTER(article + "|" + quantité + "|" + prix_total)
    FIN TANT QUE

    #Fonction pour afficher la liste des articles ainsi que le total à payer
    FONCTION afficher_panier()
        ECRIRE "Liste des articles et le total à payer : "
        totalAPayer <- calculer_montant()
        POUR CHAQUE article DANS listeArticle
            ECRIRE article
        FIN POUR
        ECRIRE "Total à payer : ", totalAPayer
    FIN FONCTION

    #Fonction pour calculer le montant total
    FONCTION calculer_montant()
        totalAPayer <- 0
        POUR CHAQUE article DANS listeArticle
            totalAPayer <- totalAPayer + article.SPLIT("|")[2].TO_REEL() * article.SPLIT("|")[3].TO_REEL()
        FIN POUR
        RETOURNER totalAPayer
    FIN FONCTION
    
    #Appel des fonctions
    afficher_panier()
FIN 
    


Class Livre 
    Attributs :
        titre comme CHAINE
        auteur comme CHAINE
        nombre_page comme ENTIER
        disponible comme BOOLEEN

    Methodes :
        #Afficher les informations d'un livre
        FONCTION afficherInfos()
            ECRIRE "Titre : " + titre
            ECRIRE "Auteur : " + auteur
            ECRIRE "Nombre de pages : " + nombre_page
            ECRIRE "Disponible : " + disponible
        FIN FONCTION

        #Fonction pour emprunter un livre
        FONCTION emprunter_livre(livre)
            SI disponible EST VRAI ALORS
                disponible <- FAUX
            SINON
                ECRIRE "Le livre n'est pas disponible."
            FIN SI
        FIN FONCTION

        #Fonction pour rendre un livre
        FONCTION rendre_livre(livre)
            disponible <- VRAI
        FIN FONCTION
Fin Class


DEBUT
    monLivre: Livre
    monLivre = New Livre
    monLivre.titre = "Biologie Animal"
    monLivre.auteur = "Max"
    monLivre.nombre_page = 100
    monLivre.disponible = VRAI
    
    
    APPELER monLivre.afficherInfos()

    DECLARER reponse comme CHAINE

    SI monLivre.disponible EST FAUX
        ECRIRE "Voulez-vous le rendre ?"
        LIRE reponse
        SI reponse EST "Oui" ALORS
            APPELER monLivre.rendre_livre()
        FIN SI
    SINON
        ECRIRE "Voulez-vous le emprunter ?"
        LIRE reponse
        SI reponse EST "Oui" ALORS
            APPELER monLivre.emprunter_livre()
        FIN SI
    FIN SI
FIN


#Exemple d'une fonction récursive qui explore tout les sous-dossiers et fichier d'un répertoire

Class Repertoire
    DECLARER nom comme CHAINE
    DECLARER nomFichier comme LISTE DE CHAINE
    DECLARER sous_dossier comme LISTE DE Repertoire
Fin Class

DEBUT
    FONCTION explorer_repertoire(repertoire)
        POUR CHAQUE fichier DANS repertoire.nomFichier
            ECRIRE fichier
        FIN POUR
        POUR CHAQUE sous_dossier DANS repertoire.sous_dossier
            APPELER explorer_repertoire(sous_dossier)
        FIN POUR
    FIN FONCTION
FIN


